2021/12/13
#### 1、使用 dataset 属性访问元素的自定义数据属性 (data-*)
```javascript
const el = document.getElementById('card')

console.log(el.dataset)
// { name: "FE", number: "5", label: "listCard" }
  
console.log(el.dataset.name) // "FE"
console.log(el.dataset.number) // "5"
console.log(el.dataset.label) // "listCard"
```

#### 2、提高数字的可读性
```javascript
const num = 2_000_000_000
console.log(num) // 2000000000
```

#### 3、添加一个事件监听器并且只运行一次
```javascript
element.addEventListener('click', () => console.log('I run only once'), {
    once: true
});
```

#### 4、console.table() 打印特定格式的表格
```javascript
// [] 里面指的是可选参数\
console.table(data [, columns]);

参数：
data 表示要显示的数据。必须是数组或对象。
columns 表示一个包含列的名称的数组。

function Goods(name, price) {
    this.name = name
    this.price = price
}

const book = new Goods("《webpack 入门到放弃》", "¥ 9.00")
const knowledge = new Goods("《前端的自我修养》", "¥ 99.00")
const ebook = new Goods("《node.js 课程》", "¥ 199.00")

console.table([book, knowledge, ebook], ["name", "price"])
```

#### 5、使用 && 符号简写条件判断语句
```javascript
if(condition){
  dosomething()
}
// 简写
condition && dosomething()
```

#### 6、字符串-数字快速互换
```javascript
const str = '123';
const num = + str;
console.log(typeof num); // number

const num2 = 123;
const str2 = num2 + '';
console.log(num2); // '123'
```

#### 7、复制到剪切板
```javascript
/**
* 复制到剪切板函数
* param {i} 要复制的文本内容
* 函数重点：调用输入框的select()函数，执行document.execCommand('Copy')即可
*/
// 应用场景1
function handleClick(i) {
  const input = document.createElement('input');
  input.value = i;
  document.body.appendChild(input);
  input.select();
  if (document.execCommand('Copy')) {
    document.execCommand('Copy');
  }
  input.remove();
}

// 应用场景2 * param {input} 要复制的文本所在的输入框DOM对象
function handleClick(input) {
  input.select();
  if (document.execCommand('Copy')) {
    document.execCommand('Copy');
  }
}
```
### 8、时间戳格式化
> 时间戳是s(秒),new Date(时间戳*1000) // 传入ms(毫秒)

### 9、reduce函数
#### 前言
reduce() 方法对数组中的每个元素执行一个由您提供的reduce函数(升序执行)，将其结果汇总为单个返回值。reduce方法可做的事情特别多，就是循环遍历能做的，reduce都可以做，比如数组求和、数组求积、数组中元素出现的次数、数组去重等等。

#### 语法
````js
  arr.reduce(function(prev,cur,index,arr){
  ...
  }, init);
````

prev 必需。累计器累计回调的返回值; 表示上一次调用回调时的返回值，或者初始值 init;
cur 必需。表示当前正在处理的数组元素；
index 可选。表示当前正在处理的数组元素的索引，若提供 init 值，则起始索引为- 0，否则起始索引为1；
arr 可选。表示原数组；
init 可选。表示初始值。

#### 应用
***数组求和***
````js
  let arr = [1,2,3,4,5]
  console.log(arr.reduce((a,b) => a + b)) // - 15
  console.log(arr.reduce((a,b) => a * b))  // - 120
````


***计算数组中每个元素出现的次数***
````js
  var names = ['Alice', 'Bob', 'Tiff', 'Bruce', 'Alice', 'Bob', 'Bob'];
  var countedNames = names.reduce(function (allNames, name) {
    console.log(allNames,name);
    if (name in allNames) {
      allNames[name]++;
    }
    else {
      allNames[name] = 1;
    }
    return allNames;
  }, {});
  console.log(countedNames); // {Alice:2, Bob:3, Tiff:1, Bruce:1}
````

运行结果分析：
由于设置了迭代初始值，allNames的第一个值是一个空对象，此时name为Alice，然后进行判断，发现在allNames中没有Alice属性，所以就将Alice对应的属性值赋为1
后面没有重复的是一样的道理，如果碰到重复值，就会将该属性值加1，这样就能计算元素重复的次数了。

***去除数组中重复的元素***
````js
  let myArray = ['a', 'b', 'a', 'b', 'c', 'e', 'e', 'c', 'd', 'd', 'd', 'd'];
  let myOrderedArray = myArray.reduce(function (accumulator, currentValue) {
    if (accumulator.indexOf(currentValue) === -1) {
      accumulator.push(currentValue)
    }
    return accumulator;
  }, []);
  console.log(myOrderedArray);  // - ['a','b','c','d']
````

````js
  let arr = [1,2,1,2,3,5,4,5,3,4,4,4,4];
  let result = arr.sort().reduce((init, current) => {
      if(init.length === 0 || init[init.length-1] !== current) {
          init.push(current);
      }
      return init;
  }, []);
  console.log(result); // - [1,2,3,4,5]
````
